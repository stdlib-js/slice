{"version":3,"file":"index.mjs","sources":["../multi/lib/main.js","../base/args2multislice/lib/main.js","../ctor/lib/main.js","../base/int2slice/lib/main.js","../base/int2slice/lib/error_out_of_bounds.js","../base/length/lib/main.js","../base/normalize-slice/lib/main.js","../base/normalize-slice/lib/error_out_of_bounds.js","../base/normalize-multi-slice/lib/main.js","../base/str2slice/lib/main.js","../base/str2multislice/lib/main.js","../base/seq2slice/lib/re_end_minus.js","../base/seq2slice/lib/re_end_divide.js","../base/seq2slice/lib/resolve_end.js","../base/seq2slice/lib/re_colon_sep.js","../base/seq2slice/lib/re_integer.js","../base/seq2slice/lib/re_end.js","../base/seq2slice/lib/main.js","../base/seq2slice/lib/error_invalid_subsequence.js","../base/seq2slice/lib/error_invalid_increment.js","../base/seq2slice/lib/error_out_of_bounds.js","../base/seq2multislice/lib/re_subseq_sep.js","../base/seq2multislice/lib/re_integer.js","../base/lib/index.js","../seq2slice/lib/main.js","../base/nonreduced-dimensions/lib/main.js","../base/reduced-dimensions/lib/main.js","../base/sargs2multislice/lib/main.js","../base/seq2multislice/lib/main.js","../base/seq2multislice/lib/error_out_of_bounds.js","../base/seq2multislice/lib/error_invalid_ellipsis.js","../base/seq2multislice/lib/error_insufficient_dimensions.js","../base/seq2multislice/lib/error_too_many_dimensions.js","../base/shape/lib/main.js","../base/slice2seq/lib/main.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable no-restricted-syntax, no-invalid-this */\n\n'use strict';\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils/define-nonenumerable-read-only-property';\nimport setReadOnlyAccessor from '@stdlib/utils/define-nonenumerable-read-only-accessor';\nimport { isPrimitive as isInteger } from '@stdlib/assert/is-integer';\nimport isNull from '@stdlib/assert/is-null';\nimport isUndefined from '@stdlib/assert/is-undefined';\nimport isSlice from '@stdlib/assert/is-slice';\nimport format from '@stdlib/string/format';\n\n\n// FUNCTIONS //\n\n/**\n* Tests whether an input argument is valid.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether the argument is valid\n*\n* @example\n* var bool = isValid( 3 );\n* // returns true\n*\n* bool = isValid( null );\n* // returns true\n*\n* bool = isValid( void 0 );\n* // returns true\n*\n* bool = isValid( '3' );\n* // returns false\n*/\nfunction isValid( value ) {\n\treturn (\n\t\tisInteger( value ) ||\n\t\tisNull( value ) ||\n\t\tisUndefined( value ) ||\n\t\tisSlice( value )\n\t);\n}\n\n\n// MAIN //\n\n/**\n* Multi-slice constructor.\n*\n* @constructor\n* @param {...(Slice|integer|null)} slice - slice\n* @throws {TypeError} a provided argument must be either a Slice, integer, null, or undefined\n* @returns {MultiSlice} MultiSlice instance\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s1 = new Slice( 0, 10, 1 );\n* var s2 = new Slice( 2, 12, 2 );\n*\n* var ms = new MultiSlice( null, s1, s2, 2 );\n* // returns <MultiSlice>\n*/\nfunction MultiSlice() {\n\tvar nargs;\n\tvar proxy;\n\tvar args;\n\tvar v;\n\tvar i;\n\n\tnargs = arguments.length;\n\tif ( !( this instanceof MultiSlice ) ) {\n\t\tif ( nargs === 1 ) {\n\t\t\treturn new MultiSlice( arguments[ 0 ] );\n\t\t}\n\t\tif ( nargs === 2 ) {\n\t\t\treturn new MultiSlice( arguments[ 0 ], arguments[ 1 ] );\n\t\t}\n\t\tif ( nargs === 3 ) {\n\t\t\treturn new MultiSlice( arguments[ 0 ], arguments[ 1 ], arguments[ 2 ] ); // eslint-disable-line max-len\n\t\t}\n\t\tif ( nargs === 4 ) {\n\t\t\treturn new MultiSlice( arguments[ 0 ], arguments[ 1 ], arguments[ 2 ], arguments[ 3 ] ); // eslint-disable-line max-len\n\t\t}\n\t\tif ( nargs === 5 ) {\n\t\t\treturn new MultiSlice( arguments[ 0 ], arguments[ 1 ], arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] ); // eslint-disable-line max-len\n\t\t}\n\t\targs = [];\n\t\tfor ( i = 0; i < nargs; i++ ) {\n\t\t\targs.push( arguments[ i ] );\n\t\t}\n\t\t// Use a workaround for being unable to combine `.apply` with the `new` operator:\n\t\tproxy = Object.create( MultiSlice.prototype );\n\t\treturn MultiSlice.apply( proxy, args );\n\t}\n\tthis._data = [];\n\tfor ( i = 0; i < nargs; i++ ) {\n\t\tv = arguments[ i ];\n\t\tif ( !isValid( v ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Provided arguments must be either a Slice, integer, null, or undefined. Argument: `%d`. Value: `%s`.', i, String( v ) ) );\n\t\t}\n\t\tthis._data.push( ( v === void 0 ) ? null : v );\n\t}\n\treturn this;\n}\n\n/**\n* Constructor name.\n*\n* @name name\n* @memberof MultiSlice\n* @readonly\n* @type {string}\n* @default 'MultiSlice'\n*\n* @example\n* var str = MultiSlice.name;\n* // returns 'MultiSlice'\n*/\nsetReadOnly( MultiSlice, 'name', 'MultiSlice' );\n\n/**\n* Returns the number of slice dimensions.\n*\n* @name ndims\n* @memberof MultiSlice.prototype\n* @readonly\n* @type {NonNegativeInteger}\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s1 = new Slice( 0, 10, 1 );\n* var s2 = new Slice( 2, 12, 2 );\n*\n* var ms = new MultiSlice( null, s1, s2, 2 );\n* // returns <MultiSlice>\n*\n* var ndims = ms.ndims;\n* // returns 4\n*/\nsetReadOnlyAccessor( MultiSlice.prototype, 'ndims', function get() {\n\treturn this._data.length;\n});\n\n/**\n* Returns multi-slice data.\n*\n* @name data\n* @memberof MultiSlice.prototype\n* @readonly\n* @type {Array<Slice|null|integer>}\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s1 = new Slice( 0, 10, 1 );\n* var s2 = new Slice( 2, 12, 2 );\n*\n* var ms = new MultiSlice( null, s1, s2, 2 );\n* // returns <MultiSlice>\n*\n* var data = ms.data;\n* // returns [...]\n*\n* var v = data[ 0 ];\n* // returns null\n*\n* v = data[ 1 ];\n* // returns <Slice>\n*\n* v = data[ 2 ];\n* // returns <Slice>\n*\n* v = data[ 3 ];\n* // returns 2\n*/\nsetReadOnlyAccessor( MultiSlice.prototype, 'data', function get() {\n\treturn this._data.slice();\n});\n\n/**\n* Serializes a multi-slice to a string.\n*\n* @name toString\n* @memberof MultiSlice.prototype\n* @type {Function}\n* @returns {string} serialized MultiSlice\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s1 = new Slice( 0, 10, 1 );\n* var s2 = new Slice( 2, 12, 2 );\n*\n* var ms = new MultiSlice( null, s1, s2, 2 );\n* // returns <MultiSlice>\n*\n* var str = ms.toString();\n* // returns 'MultiSlice(null,Slice(0,10,1),Slice(2,12,2),2)'\n*/\nsetReadOnly( MultiSlice.prototype, 'toString', function toString() {\n\tvar data;\n\tvar out;\n\tvar i;\n\n\tdata = this._data;\n\tout = [];\n\tfor ( i = 0; i < data.length; i++ ) {\n\t\tout.push( String( data[ i ] ) );\n\t}\n\treturn 'MultiSlice('+out.join( ',' )+')';\n});\n\n/**\n* Serializes a multi-slice as a JSON object.\n*\n* ## Notes\n*\n* -   `JSON.stringify()` implicitly calls this method when stringifying a `MultiSlice` instance.\n*\n* @name toString\n* @memberof MultiSlice.prototype\n* @type {Function}\n* @returns {Object} serialized MultiSlice\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s1 = new Slice( 0, 10, 1 );\n* var s2 = new Slice( 2, 12, 2 );\n*\n* var ms = new MultiSlice( null, s1, s2, 2 );\n* // returns <MultiSlice>\n*\n* var o = ms.toJSON();\n* // returns { 'type': 'MultiSlice', 'data': [ null, { 'type': 'Slice', 'data': [ 0, 10, 1 ] }, { 'type': 'Slice', 'data': [ 2, 12, 2 ] }, 2 ] }\n*/\nsetReadOnly( MultiSlice.prototype, 'toJSON', function toJSON() {\n\tvar data;\n\tvar out;\n\tvar v;\n\tvar i;\n\n\tdata = this._data;\n\tout = {\n\t\t'type': 'MultiSlice',\n\t\t'data': []\n\t};\n\tfor ( i = 0; i < data.length; i++ ) {\n\t\tv = data[ i ];\n\t\tout.data.push( ( v && typeof v.toJSON === 'function' ) ? v.toJSON() : v );\n\t}\n\treturn out;\n});\n\n\n// EXPORTS //\n\nexport default MultiSlice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable max-len */\n\n'use strict';\n\n// MODULES //\n\nimport MultiSlice from './../../../multi';\n\n\n// MAIN //\n\n/**\n* Creates a MultiSlice object from a list of MultiSlice constructor arguments.\n*\n* @param {(Slice|integer|null|void)} args - constructor arguments\n* @returns {MultiSlice} MultiSlice object\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = args2multislice( [ void 0, new Slice( 0, 10, 1 ) ] );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ null, <Slice> ]\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = args2multislice( [ new Slice( 0, 10, 1 ), void 0 ] );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ <Slice>, null ]\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = args2multislice( [ new Slice( 0, 10, 1 ), void 0, void 0, new Slice( 0, 10, 1 ) ] );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ <Slice>, null, null, <Slice> ]\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = args2multislice( [ void 0, new Slice( 0, 10, 1 ), null,  void 0, new Slice( 2, 9, 2 ), null, void 0 ] );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ null, <Slice>, null, null, <Slice>, null, null ]\n*/\nfunction args2multislice( args ) {\n\tswitch ( args.length ) {\n\tcase 0:\n\t\treturn new MultiSlice();\n\tcase 1:\n\t\treturn new MultiSlice( args[ 0 ] );\n\tcase 2:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ] );\n\tcase 3:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ], args[ 2 ] );\n\tcase 4:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ], args[ 2 ], args[ 3 ] );\n\tcase 5:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ], args[ 2 ], args[ 3 ], args[ 4 ] );\n\tcase 6:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ], args[ 2 ], args[ 3 ], args[ 4 ], args[ 5 ] );\n\tcase 7:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ], args[ 2 ], args[ 3 ], args[ 4 ], args[ 5 ], args[ 6 ] );\n\tcase 8:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ], args[ 2 ], args[ 3 ], args[ 4 ], args[ 5 ], args[ 6 ], args[ 7 ] );\n\tcase 9:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ], args[ 2 ], args[ 3 ], args[ 4 ], args[ 5 ], args[ 6 ], args[ 7 ], args[ 8 ] );\n\tcase 10:\n\t\treturn new MultiSlice( args[ 0 ], args[ 1 ], args[ 2 ], args[ 3 ], args[ 4 ], args[ 5 ], args[ 6 ], args[ 7 ], args[ 8 ], args[ 9 ] );\n\tdefault:\n\t\treturn MultiSlice.apply( null, args );\n\t}\n}\n\n\n// EXPORTS //\n\nexport default args2multislice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable no-restricted-syntax, no-invalid-this */\n\n'use strict';\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils/define-nonenumerable-read-only-property';\nimport setReadOnlyAccessor from '@stdlib/utils/define-nonenumerable-read-only-accessor';\nimport { isPrimitive as isInteger } from '@stdlib/assert/is-integer';\nimport isNull from '@stdlib/assert/is-null';\nimport isUndefined from '@stdlib/assert/is-undefined';\nimport format from '@stdlib/string/format';\n\n\n// FUNCTIONS //\n\n/**\n* Tests whether an input argument is valid.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether the argument is valid\n*\n* @example\n* var bool = isValid( 3 );\n* // returns true\n*\n* bool = isValid( null );\n* // returns true\n*\n* bool = isValid( void 0 );\n* // returns true\n*\n* bool = isValid( '3' );\n* // returns false\n*/\nfunction isValid( value ) {\n\treturn ( isInteger( value ) || isNull( value ) || isUndefined( value ) );\n}\n\n\n// MAIN //\n\n/**\n* Slice constructor.\n*\n* @constructor\n* @param {(integer|null|void)} [start] - starting index (inclusive)\n* @param {(integer|null|void)} stop - ending index (exclusive)\n* @param {(integer|null|void)} [step] - index increment\n* @throws {TypeError} first argument must be an integer, null, or undefined\n* @throws {TypeError} second argument must be an integer, null, or undefined\n* @throws {TypeError} third argument must be an integer, null, or undefined\n* @throws {RangeError} third argument cannot be zero\n* @returns {Slice} Slice instance\n*\n* @example\n* var s = new Slice( 10 );\n* // returns <Slice>\n*\n* var start = s.start;\n* // returns null\n*\n* var stop = s.stop;\n* // returns 10\n*\n* var step = s.step;\n* // returns null\n*\n* @example\n* var s = new Slice( 3, 10 );\n* // returns <Slice>\n*\n* var start = s.start;\n* // returns 3\n*\n* var stop = s.stop;\n* // returns 10\n*\n* var step = s.step;\n* // returns null\n*\n* @example\n* var s = new Slice( 3, 10, 2 );\n* // returns <Slice>\n*\n* var start = s.start;\n* // returns 3\n*\n* var stop = s.stop;\n* // returns 10\n*\n* var step = s.step;\n* // returns 2\n*/\nfunction Slice() {\n\tvar nargs;\n\tvar start;\n\tvar stop;\n\tvar step;\n\n\tnargs = arguments.length;\n\tif ( nargs === 0 ) {\n\t\tstart = null;\n\t\tstop = null;\n\t\tstep = null;\n\t} else if ( nargs === 1 ) {\n\t\tstart = null;\n\t\tstop = arguments[ 0 ];\n\t\tstep = null;\n\t} else if ( nargs === 2 ) {\n\t\tstart = arguments[ 0 ];\n\t\tstop = arguments[ 1 ];\n\t\tstep = null;\n\t} else {\n\t\tstart = arguments[ 0 ];\n\t\tstop = arguments[ 1 ];\n\t\tstep = arguments[ 2 ];\n\t}\n\tif ( !( this instanceof Slice ) ) {\n\t\treturn new Slice( start, stop, step );\n\t}\n\tif ( !isValid( start ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an integer, null, or undefined. Value: `%s`.', start ) );\n\t}\n\tif ( !isValid( stop ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer, null, or undefined. Value: `%s`.', stop ) );\n\t}\n\tif ( !isValid( step ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Third argument must be an integer, null, or undefined. Value: `%s`.', step ) );\n\t} else if ( step === 0 ) {\n\t\tthrow new RangeError( format( 'invalid argument. Third argument cannot be zero. Value: `%s`.', step ) );\n\t}\n\tthis._start = ( start === void 0 ) ? null : start;\n\tthis._stop = ( stop === void 0 ) ? null : stop;\n\tthis._step = ( step === void 0 ) ? null : step;\n\treturn this;\n}\n\n/**\n* Constructor name.\n*\n* @name name\n* @memberof Slice\n* @readonly\n* @type {string}\n* @default 'Slice'\n*\n* @example\n* var str = Slice.name;\n* // returns 'Slice'\n*/\nsetReadOnly( Slice, 'name', 'Slice' );\n\n/**\n* Returns the slice's starting index.\n*\n* @name start\n* @memberof Slice.prototype\n* @readonly\n* @type {(integer|null)}\n*\n* @example\n* var s = new Slice( 10 );\n* // returns <Slice>\n*\n* var start = s.start;\n* // returns null\n*\n* @example\n* var s = new Slice( 3, 10 );\n* // returns <Slice>\n*\n* var start = s.start;\n* // returns 3\n*\n* @example\n* var s = new Slice( 3, 10, 2 );\n* // returns <Slice>\n*\n* var start = s.start;\n* // returns 3\n*/\nsetReadOnlyAccessor( Slice.prototype, 'start', function get() {\n\treturn this._start;\n});\n\n/**\n* Returns the slice's ending index.\n*\n* @name stop\n* @memberof Slice.prototype\n* @readonly\n* @type {(integer|null)}\n*\n* @example\n* var s = new Slice( 10 );\n* // returns <Slice>\n*\n* var stop = s.stop;\n* // returns 10\n*\n* @example\n* var s = new Slice( 3, 10 );\n* // returns <Slice>\n*\n* var stop = s.stop;\n* // returns 10\n*\n* @example\n* var s = new Slice( 3, 10, 2 );\n* // returns <Slice>\n*\n* var stop = s.stop;\n* // returns 10\n*/\nsetReadOnlyAccessor( Slice.prototype, 'stop', function get() {\n\treturn this._stop;\n});\n\n/**\n* Returns the slice's index increment.\n*\n* @name step\n* @memberof Slice.prototype\n* @readonly\n* @type {(integer|null)}\n*\n* @example\n* var s = new Slice( 10 );\n* // returns <Slice>\n*\n* var step = s.step;\n* // returns null\n*\n* @example\n* var s = new Slice( 3, 10 );\n* // returns <Slice>\n*\n* var step = s.step;\n* // returns null\n*\n* @example\n* var s = new Slice( 3, 10, 2 );\n* // returns <Slice>\n*\n* var step = s.step;\n* // returns 2\n*/\nsetReadOnlyAccessor( Slice.prototype, 'step', function get() {\n\treturn this._step;\n});\n\n/**\n* Serializes a slice to a string.\n*\n* @name toString\n* @memberof Slice.prototype\n* @type {Function}\n* @returns {string} serialized Slice\n*\n* @example\n* var s = new Slice( 10 );\n* // returns <Slice>\n*\n* var str = s.toString();\n* // returns 'Slice(null,10,null)'\n*\n* @example\n* var s = new Slice( 3, 10 );\n* // returns <Slice>\n*\n* var str = s.toString();\n* // returns 'Slice(3,10,null)'\n*\n* @example\n* var s = new Slice( 3, 10, 2 );\n* // returns <Slice>\n*\n* var str = s.toString();\n* // returns 'Slice(3,10,2)'\n*/\nsetReadOnly( Slice.prototype, 'toString', function toString() {\n\treturn 'Slice('+this._start+','+this._stop+','+this.step+')';\n});\n\n/**\n* Serializes a slice as a JSON object.\n*\n* ## Notes\n*\n* -   `JSON.stringify()` implicitly calls this method when stringifying a `Slice` instance.\n*\n* @name toString\n* @memberof Slice.prototype\n* @type {Function}\n* @returns {Object} serialized Slice\n*\n* @example\n* var s = new Slice( 10 );\n* // returns <Slice>\n*\n* var o = s.toJSON();\n* // returns { 'type': 'Slice', 'data': [ null, 10, null ] }\n*\n* @example\n* var s = new Slice( 3, 10 );\n* // returns <Slice>\n*\n* var o = s.toJSON();\n* // returns { 'type': 'Slice', 'data': [ 3, 10, null ] }\n*\n* @example\n* var s = new Slice( 3, 10, 2 );\n* // returns <Slice>\n*\n* var o = s.toJSON();\n* // returns { 'type': 'Slice', 'data': [ 3, 10, 2 ] }\n*/\nsetReadOnly( Slice.prototype, 'toJSON', function toJSON() {\n\treturn {\n\t\t'type': 'Slice',\n\t\t'data': [\n\t\t\tthis._start,\n\t\t\tthis._stop,\n\t\t\tthis._step\n\t\t]\n\t};\n});\n\n\n// EXPORTS //\n\nexport default Slice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport Slice from './../../../ctor';\nimport eOutOfBounds from './error_out_of_bounds.js';\n\n\n// MAIN //\n\n/**\n* Converts an integer to a Slice object.\n*\n* @param {integer} value - input value\n* @param {NonNegativeInteger} max - index upper bound\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @returns {(Slice|Object)} Slice object or an error object\n*\n* @example\n* var s = int2slice( -4, 10, false );\n* // returns <Slice>\n*\n* var start = s.start;\n* // returns 6\n*\n* var stop = s.stop;\n* // returns 7\n*\n* var step = s.step;\n* // returns 1\n*/\nfunction int2slice( value, max, strict ) {\n\t// If a value exceeds the last possible index, create an \"empty\" slice...\n\tif ( value >= max ) {\n\t\tif ( strict ) {\n\t\t\treturn eOutOfBounds();\n\t\t}\n\t\treturn new Slice( max, max, 1 );\n\t}\n\t// Check whether we need to resolve a slice relative to the last possible index...\n\tif ( value < 0 ) {\n\t\tvalue = max + value;\n\n\t\t// If a value exceeds the first index, create an \"empty\" slice...\n\t\tif ( value < 0 ) {\n\t\t\tif ( strict ) {\n\t\t\t\treturn eOutOfBounds();\n\t\t\t}\n\t\t\treturn new Slice( 0, 0, 1 );\n\t\t}\n\t\treturn new Slice( value, value+1, 1 ); // e.g., Slice( 2, 3, 1 ), which is the slice equivalent of only selecting the second row\n\t}\n\t// 0 <= s < N\n\treturn new Slice( value, value+1, 1 );\n}\n\n\n// EXPORTS //\n\nexport default int2slice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for a slice which exceeds index bounds.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_OUT_OF_BOUNDS'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport ceil from '@stdlib/math/base/special/ceil';\n\n\n// MAIN //\n\n/**\n* Returns the number of elements in a normalized slice.\n*\n* @param {Slice} slice - normalized Slice object\n* @returns {NonNegativeInteger} number of elements\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import normalizeSlice from '@stdlib/slice/base/normalize-slice';\n*\n* var s = new Slice( 2, null, 1 );\n* // returns <Slice>\n*\n* var v = sliceLength( normalizeSlice( s, 10, false ) );\n* // returns 8\n*\n* v = sliceLength( normalizeSlice( s, 11, false ) );\n* // returns 9\n*\n* v = sliceLength( normalizeSlice( s, 5, false ) );\n* // returns 3\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import normalizeSlice from '@stdlib/slice/base/normalize-slice';\n*\n* var s = new Slice( 2, null, 2 );\n* // returns <Slice>\n*\n* var v = sliceLength( normalizeSlice( s, 10, false ) );\n* // returns 4\n*\n* v = sliceLength( normalizeSlice( s, 11, false ) );\n* // returns 5\n*\n* v = sliceLength( normalizeSlice( s, 5, false ) );\n* // returns 2\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import normalizeSlice from '@stdlib/slice/base/normalize-slice';\n*\n* var s = new Slice( -1, null, -2 );\n*\n* var v = sliceLength( normalizeSlice( s, 10, false ) );\n* // returns 5\n*\n* v = sliceLength( normalizeSlice( s, 11, false ) );\n* // returns 6\n*\n* v = sliceLength( normalizeSlice( s, 5, false ) );\n* // returns 3\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import normalizeSlice from '@stdlib/slice/base/normalize-slice';\n*\n* var s = new Slice( 3, 5, -1 );\n*\n* var v = sliceLength( normalizeSlice( s, 10, false ) );\n* // returns 0\n*\n* v = sliceLength( normalizeSlice( s, 11, false ) );\n* // returns 0\n*\n* v = sliceLength( normalizeSlice( s, 5, false ) );\n* // returns 0\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import normalizeSlice from '@stdlib/slice/base/normalize-slice';\n*\n* var s = new Slice( 5, 3, 1 );\n*\n* var v = sliceLength( normalizeSlice( s, 10, false ) );\n* // returns 0\n*\n* v = sliceLength( normalizeSlice( s, 11, false ) );\n* // returns 0\n*\n* v = sliceLength( normalizeSlice( s, 5, false ) );\n* // returns 0\n*/\nfunction sliceLength( slice ) {\n\tvar inc;\n\tvar x1;\n\tvar x2;\n\n\tx1 = slice.start;\n\tx2 = slice.stop;\n\tinc = slice.step;\n\n\t// For a normalized slice, stop should only be `null` when the increment is negative...\n\tif ( x2 === null ) {\n\t\tx2 = -1; // set to -1 to ensure that the first element is included\n\t}\n\tif (\n\t\t// If the increment is positive, the slice is empty whenever the starting index is greater than or equal to the stopping index:\n\t\t( inc > 0 && x1 >= x2 ) ||\n\n\t\t// If the increment is negative, the slice is empty whenever the starting index is less than or equal to the stopping index:\n\t\t( inc < 0 && x1 <= x2 )\n\t) {\n\t\treturn 0;\n\t}\n\treturn ceil( ( x2 - x1 ) / inc );\n}\n\n\n// EXPORTS //\n\nexport default sliceLength;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport Slice from './../../../ctor';\nimport eOutOfBounds from './error_out_of_bounds.js';\n\n\n// MAIN //\n\n/**\n* Returns a normalized Slice object.\n*\n* @param {Slice} slice - input slice\n* @param {NonNegativeInteger} len - maximum number of elements allowed in a slice\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @returns {(Slice|ErrorObject)} slice object or an error object\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = normalizeSlice( new Slice(), 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = normalizeSlice( new Slice( null, 20, 2 ), 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 2\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = normalizeSlice( new Slice( -5, -1, 1 ), 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 5\n*\n* v = s.stop;\n* // returns 9\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = normalizeSlice( new Slice( -5, null, -1 ), 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 5\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*/\nfunction normalizeSlice( slice, len, strict ) {\n\tvar start;\n\tvar stop;\n\tvar step;\n\n\tstart = slice.start;\n\tstop = slice.stop;\n\tstep = slice.step;\n\n\t// If necessary, set the default increment...\n\tif ( step === null ) {\n\t\tstep = 1;\n\t}\n\n\t// Case: start is not specified\n\tif ( start === null ) {\n\t\t// If the step is positive, we default to the first index...\n\t\tif ( step > 0 ) {\n\t\t\tstart = 0;\n\t\t}\n\t\t// If the step is negative, we default to the last index (inclusive)...\n\t\telse {\n\t\t\tstart = len - 1;\n\t\t}\n\t}\n\t// Case: start is negative and should be resolved relative to the last index\n\telse if ( start < 0 ) {\n\t\tstart = len + start;\n\n\t\t// Check whether start still exceeds the index bounds...\n\t\tif ( start < 0 ) {\n\t\t\tif ( strict ) {\n\t\t\t\treturn eOutOfBounds();\n\t\t\t}\n\t\t\t// Clamp to the first index (inclusive):\n\t\t\tstart = 0;\n\t\t}\n\t}\n\t// Case: start exceeds index bounds\n\telse if ( start >= len ) {\n\t\tif ( strict ) {\n\t\t\treturn eOutOfBounds();\n\t\t}\n\t\t// If the increment is negative, clamp to the last index (inclusive)...\n\t\tif ( step < 0 ) {\n\t\t\tstart = len - 1;\n\t\t}\n\t\t// If the increment is positive, clamp to the \"index\" following the last index...\n\t\telse {\n\t\t\tstart = len;\n\t\t}\n\t}\n\n\t// Case: stop is not specified\n\tif ( stop === null ) {\n\t\t// If the step is positive, we default to just beyond the last index, as the stopping index is exclusive...\n\t\tif ( step > 0 ) {\n\t\t\tstop = len;\n\t\t}\n\t\t// If the step is negative, we default to a sentinel value indicating that one should iterate through the first index when decrementing...\n\t\telse {\n\t\t\tstop = null;\n\t\t}\n\t}\n\t// Case: stop is negative and should be resolved relative to the last index\n\telse if ( stop < 0 ) {\n\t\tstop = len + stop;\n\n\t\t// Check whether stop still exceeds the index bounds...\n\t\tif ( stop < 0 ) {\n\t\t\t// If the step is positive, we should clamp to the first index, as Slice(x,0,step) is an empty slice regardless of `x`...\n\t\t\tif ( step > 0 ) {\n\t\t\t\tif ( strict ) {\n\t\t\t\t\treturn eOutOfBounds();\n\t\t\t\t}\n\t\t\t\tstop = 0;\n\t\t\t}\n\t\t\t// If the step is negative, we default to just beyond the first index (using a sentinel value), as the stopping index is exclusive, thus indicating to iterate through the first index when decrementing...\n\t\t\telse {\n\t\t\t\tif ( strict && stop < -1 ) {\n\t\t\t\t\treturn eOutOfBounds();\n\t\t\t\t}\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t}\n\t}\n\t// Case: stop exceeds index bounds\n\telse if ( stop > len ) {\n\t\tif ( strict ) {\n\t\t\treturn eOutOfBounds();\n\t\t}\n\t\t// Clamp to just beyond the last index, as the stopping index is exclusive:\n\t\tstop = len;\n\t}\n\n\t// Return a normalized slice:\n\treturn new Slice( start, stop, step );\n}\n\n\n// EXPORTS //\n\nexport default normalizeSlice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for a slice which exceeds index bounds.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_OUT_OF_BOUNDS'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport args2multislice from './../../../base/args2multislice';\nimport Slice from './../../../ctor';\nimport normalizeSlice from './../../../base/normalize-slice';\nimport int2slice from './../../../base/int2slice';\n\n\n// FUNCTIONS //\n\n/**\n* Normalizes an individual MultiSlice element.\n*\n* @private\n* @param {(Slice|integer|null)} value - input slice\n* @param {NonNegativeInteger} len - maximum number of elements which are allowed in a slice\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @returns {Slice} slice object\n*/\nfunction normalize( value, len, strict ) {\n\t// Case: null\n\tif ( value === null ) {\n\t\t// Create a slice with default extents and a default increment:\n\t\treturn new Slice( 0, len, 1 );\n\t}\n\t// Case: integer\n\tif ( typeof value === 'number' ) {\n\t\treturn int2slice( value, len, strict );\n\t}\n\t// Case: slice\n\treturn normalizeSlice( value, len, strict );\n}\n\n\n// MAIN //\n\n/**\n* Returns a normalized MultiSlice object.\n*\n* @param {MultiSlice} slice - input slice\n* @param {NonNegativeIntegerArray} shape - maximum allowed slice shape\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @returns {(MultiSlice|ErrorObject)} multi-slice object or an error object\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import MultiSlice from '@stdlib/slice/multi';\n*\n* var shape = [ 10, 10, 10 ];\n*\n* var s1 = new MultiSlice( new Slice( 2, null, 2 ), null, -4 );\n* var s2 = normalizeMultiSlice( s1, shape, false );\n* // returns <MultiSlice>\n*\n* var d = s2.data;\n* // returns [ <Slice>, <Slice>, <Slice> ]\n*\n* var v = d[ 0 ];\n* // returns <Slice>\n*\n* var start = v.start;\n* // returns 2\n*\n* var stop = v.stop;\n* // returns 10\n*\n* var step = v.step;\n* // returns 2\n*\n* v = d[ 1 ];\n* // returns <Slice>\n*\n* start = v.start;\n* // returns 0\n*\n* stop = v.stop;\n* // returns 10\n*\n* step = v.step;\n* // returns 1\n*\n* v = d[ 2 ];\n* // returns <Slice>\n*\n* start = v.start;\n* // returns 6\n*\n* stop = v.stop;\n* // returns 7\n*\n* step = v.step;\n* // returns 1\n*/\nfunction normalizeMultiSlice( slice, shape, strict ) {\n\tvar data;\n\tvar args;\n\tvar s;\n\tvar i;\n\n\tdata = slice.data;\n\targs = [];\n\tfor ( i = 0; i < data.length; i++ ) {\n\t\ts = normalize( data[ i ], shape[ i ], strict );\n\t\tif ( s.code !== void 0 ) {\n\t\t\treturn s;\n\t\t}\n\t\targs.push( s );\n\t}\n\n\t// Return a normalized slice:\n\treturn args2multislice( args );\n}\n\n\n// EXPORTS //\n\nexport default normalizeMultiSlice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport trim from '@stdlib/string/base/trim';\nimport Slice from './../../../ctor';\n\n\n// VARIABLES //\n\nvar PREFIX = 'Slice(';\nvar NARGS = 3;\n\n/**\n* Regular expression matching the slice argument separator.\n*\n* @private\n* @name RE_SEP\n* @type {RegExp}\n*/\nvar RE_SEP = /\\s*,\\s*/;\n\n/**\n* Regular expression matching an integer value.\n*\n* @private\n* @name RE_INTEGER\n* @type {RegExp}\n*/\nvar RE_INTEGER = /^-?[0-9]+$/;\n\n\n// MAIN //\n\n/**\n* Parses a string-serialized Slice object.\n*\n* ## Notes\n*\n* -   The function returns `null` if provided an invalid string.\n*\n* @param {string} str - input string\n* @returns {(Slice|null)} Slice object (or null)\n*\n* @example\n* var s = str2slice( 'Slice(null,null,null)' );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns null\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns null\n*\n* @example\n* var s = str2slice( 'Slice(0,10,1)' );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = str2slice( 'Slice(foo,bar)' );\n* // returns null\n*/\nfunction str2slice( str ) {\n\tvar args;\n\tvar arg;\n\tvar n;\n\tvar v;\n\tvar i;\n\tif ( str.substring( 0, PREFIX.length ) !== PREFIX ) {\n\t\treturn null;\n\t}\n\tn = str.length - 1;\n\tif ( str[ n ] !== ')' ) {\n\t\treturn null;\n\t}\n\tstr = trim( str.substring( PREFIX.length, n ) );\n\tstr = str.split( RE_SEP );\n\tif ( str.length !== NARGS ) {\n\t\treturn null;\n\t}\n\targs = [];\n\tfor ( i = 0; i < NARGS; i++ ) {\n\t\tv = str[ i ];\n\t\tif ( v === 'null' ) {\n\t\t\targ = null;\n\t\t} else if ( RE_INTEGER.test( v ) ) {\n\t\t\targ = parseInt( v, 10 );\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\targs.push( arg );\n\t}\n\treturn new Slice( args[ 0 ], args[ 1 ], args[ 2 ] );\n}\n\n\n// EXPORTS //\n\nexport default str2slice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport trim from '@stdlib/string/base/trim';\nimport str2slice from './../../../base/str2slice';\nimport MultiSlice from './../../../multi';\nimport args2multislice from './../../../base/args2multislice';\n\n\n// VARIABLES //\n\nvar PREFIX = 'MultiSlice(';\n\n/**\n* Regular expression matching the argument separator.\n*\n* @private\n* @name RE_SEP\n* @type {RegExp}\n*/\nvar RE_SEP = /\\s*,\\s*/;\n\n/**\n* Regular expression matching an integer value.\n*\n* @private\n* @name RE_INTEGER\n* @type {RegExp}\n*/\nvar RE_INTEGER = /^-?[0-9]+$/;\n\n\n// MAIN //\n\n/**\n* Parses a string-serialized MultiSlice object.\n*\n* ## Notes\n*\n* -   The function returns `null` if provided an invalid string.\n*\n* @param {string} str - input string\n* @returns {(MultiSlice|null)} MultiSlice object (or null)\n*\n* @example\n* var s = str2multislice( 'MultiSlice(null,null,null)' );\n* // returns <MultiSlice>\n*\n* var v = s.data;\n* // returns [ null, null, null ]\n*\n* @example\n* var s = str2multislice( 'MultiSlice(10,Slice(0,10,1),null)' );\n* // returns <MultiSlice>\n*\n* var v = s.data;\n* // returns [ 10, <Slice>, null ]\n*\n* @example\n* var s = str2multislice( 'MultiSlice(foo,bar)' );\n* // returns null\n*/\nfunction str2multislice( str ) {\n\tvar args;\n\tvar arg;\n\tvar n;\n\tvar v;\n\tvar i;\n\tif ( str.substring( 0, PREFIX.length ) !== PREFIX ) {\n\t\treturn null;\n\t}\n\tn = str.length - 1;\n\tif ( str[ n ] !== ')' ) {\n\t\treturn null;\n\t}\n\tstr = trim( str.substring( PREFIX.length, n ) );\n\tstr = str.split( RE_SEP );\n\tn = str.length;\n\n\t// Check for an empty slice (i.e., `MultiSlice()`)...\n\tif ( n === 1 && str[ 0 ] === '' ) {\n\t\treturn new MultiSlice();\n\t}\n\targs = [];\n\tfor ( i = 0; i < n; i++ ) {\n\t\tv = str[ i ];\n\t\tif ( v[ 0 ] === 'S' ) {\n\t\t\tv = str.slice( i, i+3 ).join( ',' );\n\t\t\targ = str2slice( v );\n\t\t\tif ( arg === null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ti += 2; // skip over the `Slice(...)` arguments\n\t\t} else if ( v === 'null' ) {\n\t\t\targ = null;\n\t\t} else if ( RE_INTEGER.test( v ) ) {\n\t\t\targ = parseInt( v, 10 );\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\targs.push( arg );\n\t}\n\treturn args2multislice( args );\n}\n\n\n// EXPORTS //\n\nexport default str2multislice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Matches a subtraction operation following an 'end' character sequence.\n*\n* Regular expression: `/(?:\\s*-\\s*)(?=\\d+)(\\d+)?$/`\n*\n* -   `(?:\\s*-\\s*)`\n*\n*     -   capture but do not remember a minus sign surrounded by any amount of whitespace\n*\n* -   `(?=\\d+)`\n*\n*     -   but only match when the minus sign is followed by one or more digits\n*\n* -   `(\\d+)`\n*\n*     -   capture one or more digits\n*\n* -   `$`\n*\n*     -   end of input\n*\n* @private\n* @name RE_END_MINUS\n* @type {RegExp}\n*\n* @example\n* var m = 'end-2'.match( RE_END_MINUS );\n* // returns [...]\n*\n* var v = m[ 1 ];\n* // returns '2'\n*\n* m = 'end - 2'.match( RE_END_MINUS );\n* // returns [...]\n*\n* v = m[ 1 ];\n* // returns '2'\n*\n* m = 'end - 2.4'.match( RE_END_MINUS );\n* // returns null\n*/\nvar RE_END_MINUS = /(?:\\s*-\\s*)(?=\\d+)(\\d+)$/;\n\n\n// EXPORTS //\n\nexport default RE_END_MINUS;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Matches a division operation following an 'end' character sequence.\n*\n* Regular expression: `/(?:\\s*\\/\\s*)(?=\\d*\\.?\\d+)(\\d*\\.?\\d+)?$/`\n*\n* -   `(?:\\s*\\/\\s*)`\n*\n*     -   capture but do not remember a divide sign surrounded by any amount of whitespace\n*\n* -   `(?=\\d*\\.?\\d+)`\n*\n*     -   but only match when the minus divide is followed by one or more digits\n*\n* -   `(\\d*\\.?\\d+)`\n*\n*     -   capture one or more digits\n*\n* -   `$`\n*\n*     -   end of input\n*\n* @private\n* @name RE_END_DIVIDE\n* @type {RegExp}\n*\n* @example\n* var m = 'end/2'.match( RE_END_DIVIDE );\n* // returns [...]\n*\n* var v = m[ 1 ];\n* // returns '2'\n*\n* m = 'end / 2'.match( RE_END_DIVIDE );\n* // returns [...]\n*\n* v = m[ 1 ];\n* // returns '2'\n*\n* m = 'end / 2.4'.match( RE_END_DIVIDE );\n* // returns [...]\n*\n* v = m[ 1 ];\n* // returns '2.4'\n*/\nvar RE_END_DIVIDE = /(?:\\s*\\/\\s*)(?=\\d*\\.?\\d+)(\\d*\\.?\\d+)$/;\n\n\n// EXPORTS //\n\nexport default RE_END_DIVIDE;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport floor from '@stdlib/math/base/special/floor';\nimport RE_END_MINUS from './re_end_minus.js';\nimport RE_END_DIVIDE from './re_end_divide.js';\n\n\n// MAIN //\n\n/**\n* Resolves an \"end\" index.\n*\n* ## Notes\n*\n* -   The function returns `-1` if provided an invalid character sequence.\n* -   The function returns `-2` if the resolved end index is out-of-bounds.\n*\n* @private\n* @param {string} v - character sequence containing the \"end\" keyword\n* @param {NonNegativeInteger} len - maximum number of elements allowed in the slice\n* @param {boolean} decrement - boolean indicating whether a subsequence has a negative decrement\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @returns {NonNegativeInteger} end index (exclusive)\n*\n* @example\n* var idx = resolveEnd( 'end', 10, false, false );\n* // returns 10\n*\n* idx = resolveEnd( 'end', 10, true, false );\n* // returns 10\n*\n* @example\n* var idx = resolveEnd( 'end-1', 10, false, false );\n* // returns 9\n*\n* idx = resolveEnd( 'end-1', 10, true, false );\n* // returns 9\n*\n* @example\n* var idx = resolveEnd( 'end-2', 10, false, false );\n* // returns 8\n*\n* idx = resolveEnd( 'end-2', 10, true, false );\n* // returns 8\n*\n* @example\n* var idx = resolveEnd( 'end/2', 10, false, false );\n* // returns 5\n*\n* idx = resolveEnd( 'end/2', 10, true, false );\n* // returns 4\n*\n* @example\n* var idx = resolveEnd( 'end/2', 11, false, false );\n* // returns 5\n*\n* idx = resolveEnd( 'end/2', 11, true, false );\n* // returns 5\n*\n* @example\n* var idx = resolveEnd( 'end/3', 10, false, false );\n* // returns 3\n*\n* idx = resolveEnd( 'end/3', 10, true, false );\n* // returns 3\n*\n* @example\n* var idx = resolveEnd( 'end/3', 11, false, false );\n* // returns 3\n*\n* idx = resolveEnd( 'end/3', 11, true, false );\n* // returns 3\n*\n* @example\n* var idx = resolveEnd( 'end/4', 10, false, false );\n* // returns 2\n*\n* idx = resolveEnd( 'end/4', 10, true, false );\n* // returns 2\n*\n* @example\n* var idx = resolveEnd( 'end/4', 11, false, false );\n* // returns 2\n*\n* idx = resolveEnd( 'end/4', 11, true, false );\n* // returns 2\n*\n* @example\n* var idx = resolveEnd( 'end/5', 10, false, false );\n* // returns 2\n*\n* idx = resolveEnd( 'end/5', 10, true, false );\n* // returns 1\n*\n* @example\n* var idx = resolveEnd( 'end/5', 11, false, false );\n* // returns 2\n*\n* idx = resolveEnd( 'end/5', 11, true, false );\n* // returns 2\n*\n* @example\n* var idx = resolveEnd( 'end-20', 10, false, false );\n* // returns 0\n*\n* idx = resolveEnd( 'end-20', 10, true, false );\n* // returns 0\n*\n* idx = resolveEnd( 'end-20', 10, true, true );\n* // returns -2\n*\n* @example\n* var idx = resolveEnd( 'end*2', 10, false, false );\n* // returns -1\n*\n* idx = resolveEnd( 'end*2', 10, true, false );\n* // returns -1\n*\n* @example\n* var idx = resolveEnd( 'end+1', 10, false, false );\n* // returns -1\n*\n* idx = resolveEnd( 'end+1', 10, true, false );\n* // returns -1\n*\n* @example\n* var idx = resolveEnd( 'end/0.5', 10, false, false );\n* // returns -1\n*\n* idx = resolveEnd( 'end/0.5', 10, true, false );\n* // returns -1\n*\n* idx = resolveEnd( 'end/0.5', 10, true, true );\n* // returns -2\n*/\nfunction resolveEnd( v, len, decrement, strict ) {\n\tvar tmp;\n\n\t// Check for the simple case where \"end\" refers to the last index (exclusive)...\n\tif ( v === 'end' ) {\n\t\treturn len;\n\t}\n\t// Check for a subtraction operation (e.g., `end-2`)...\n\ttmp = v.match( RE_END_MINUS );\n\tif ( tmp ) {\n\t\tv = len - parseInt( tmp[ 1 ], 10 );\n\n\t\t// If the computed index exceeds the index bounds, clamp to the first index...\n\t\tif ( v < 0 ) {\n\t\t\tif ( strict ) {\n\t\t\t\treturn -2; // return out-of-bounds error code\n\t\t\t}\n\t\t\tv = 0;\n\t\t}\n\t\treturn v;\n\t}\n\t// Check for a division operation (e.g., `end/2`)...\n\ttmp = v.match( RE_END_DIVIDE );\n\tif ( tmp ) {\n\t\tv = parseFloat( tmp[ 1 ] );\n\t\tif ( v < 1.0 ) {\n\t\t\treturn ( strict ) ? -2 : -1; // if `end/x > end`, then need to return out-of-bounds error code\n\t\t}\n\t\t// Handle division differently for increasing and decreasing increments in order to preserve the `:n + n: = :` identity and to satisfy user expectation that symmetry be maintained. The main issue being that, e.g., given a length 10 subsequence, `end/2` will yield `5`. Hence, `:end/2 + end/2: = :5 + :5 = :` (i.e., the first five elements (0,1,2,3,4) and the second five elements (5,6,7,8,9)); however, if increasing and decreasing are treated the same, `:end/2:-1 + end/2::-1 = :5:-1 + 5::-1 = :`, but the elements are not the same (i.e., the first elements (9,8,7,6) and the second elements (5,4,3,2,1)), due to the non-inclusive aspect of `j` in `i:j:k`. The slight adjustment (`len-1`) yields `:4:-1 + 4::-1 = :` and the slices (9,8,7,6,5) and (4,3,2,1,0), which better matches user expectation. For a length 11 subsequence, we get (0,1,2,3,4) and (5,6,7,8,9,10) for an increasing increment and (10,9,8,7,6) and (5,4,3,2,1,0), which seems fine given asymmetry in both cases.\n\t\tif ( decrement && len > 0 && v !== 1.0 ) { // note: avoid violating `end/1 = end` identity\n\t\t\treturn floor( (len-1) / v );\n\t\t}\n\t\treturn floor( len / v );\n\t}\n\t// The use of \"end\" includes invalid/unsupported operations...\n\treturn -1;\n}\n\n\n// EXPORTS //\n\nexport default resolveEnd;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Matches a character sequence for a colon separator used within a provided subsequence string.\n*\n* Regular expression: `\\s*:\\s*`\n*\n* -   `\\s*`\n*\n*     -   match zero or more whitespace characters\n*\n* -   `:`\n*\n*     -   match the colon character exactly\n*\n* -   `\\s*`\n*\n*     -   match zero or more whitespace characters\n*\n* ## Notes\n*\n* -   The regular expression allows for whitespace to surround the `:` character in subsequence strings (e.g., '2 : 4 : 1' vs '2:4:1').\n*\n* @private\n* @name RE_COLON_SEP\n* @type {RegExp}\n*\n* @example\n* var parts = ':'.split( RE_COLON_SEP );\n* // returns [ '', '' ]\n*\n* parts = ' : '.split( RE_COLON_SEP );\n* // returns [ '', '' ]\n*/\nvar RE_COLON_SEP = /\\s*:\\s*/;\n\n\n// EXPORTS //\n\nexport default RE_COLON_SEP;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Matches a character sequence for an integer value.\n*\n* Regular expression: `/^[-+]?\\d+$/`\n*\n* -   `^`\n*\n*     -   start of input\n*\n* -   `[-+]?`\n*\n*     -   match a minus or plus sign (if present)\n*\n* -   `\\d+`\n*\n*     -   match one or more digits\n*\n* -   `$`\n*\n*     -   end of input\n*\n* @private\n* @name RE_INTEGER\n* @type {RegExp}\n*\n* @example\n* var bool = RE_INTEGER.test( '123' );\n* // returns true\n*\n* bool = RE_INTEGER.test( '12.3' );\n* // returns false\n*/\nvar RE_INTEGER = /^[-+]?[0-9]+$/;\n\n\n// EXPORTS //\n\nexport default RE_INTEGER;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Matches a character sequence which begins with 'end'.\n*\n* Regular expression: `/^end/`\n*\n* -   `^`\n*\n*     -   start of input\n*\n* -   `end`\n*\n*     -   match the character sequence 'end'\n*\n* @private\n* @name RE_END\n* @type {RegExp}\n*\n* @example\n* var bool = RE_END.test( 'end' );\n* // returns true\n*\n* bool = RE_END.test( 'foo end' );\n* // returns false\n*/\nvar RE_END = /^end/;\n\n\n// EXPORTS //\n\nexport default RE_END;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport Slice from './../../../ctor';\nimport trim from '@stdlib/string/base/trim';\nimport resolveEnd from './resolve_end.js';\nimport RE_COLON_SEP from './re_colon_sep.js';\nimport RE_INTEGER from './re_integer.js';\nimport RE_END from './re_end.js';\nimport eInvalidSubsequence from './error_invalid_subsequence.js';\nimport eOutOfBounds from './error_out_of_bounds.js';\nimport eInvalidIncrement from './error_invalid_increment.js';\n\n\n// MAIN //\n\n/**\n* Converts a subsequence string to a Slice object.\n*\n* ## Notes\n*\n* -   A subsequence string has the following format:\n*\n*     ```text\n*     <start>:<stop>:<increment>\n*     ```\n*\n*     where\n*\n*     -   If an `increment` is not specified, the default increment is `1`. An increment of zero is **not** allowed.\n*     -   The `start` index is **inclusive**.\n*     -   The `stop` index is **exclusive**.\n*     -   Both `start` and `stop` indices are _optional_. If not provided, `start` and `stop` default to index extremes. Which extremes correspond to which index depends on whether the `increment` is positive or negative.\n*     -   Both `start` and `stop` can be negative; in which case, the corresponding index is resolved by subtracting the respective value from the provided length `len`.\n*     -   Both `start` and `stop` can use the `end` keyword (e.g., `end-2::2`, `end-3:`, etc), which supports basic subtraction and division.\n*     -   The `end` keyword resolves to the provided length `len`. Thus, `:-1` is equivalent to `:end-1`, `:-2` is equivalent to `:end-2`, and so on and so forth. The exception is when performing a division operation when the `increment` is less than zero; in which case, `end` is equal to `len-1` in order to preserve user expectations when `end/d` equals a whole number and slicing from right-to-left. The result from a division operation is **rounded down** to the nearest integer value.\n*\n* -   When `strict` is `false`, the resolved slice start is clamped to the slice index bounds (i.e., `[0, len)`).\n*\n* -   When `strict` is `false`, the resolved slice end is upper bound clamped to `len` (i.e., one greater than the last possible index).\n*\n* -   When the increment is negative, the resolved slice end value may be `null`, thus indicating that a non-empty slice should include the first index.\n*\n* -   The function ensures that results satisfy the convention that `:n` combined with `n:` is equivalent to `:` (i.e., selecting all elements).\n*\n* -   When `len` is zero, the function always returns a Slice object equivalent to `0:0:<increment>`.\n*\n* -   The function returns an error object if provided an invalid subsequence string.\n*\n* -   If `strict` is `true`, the function returns an error object if provided a subsequence string which exceeds index bounds.\n*\n* @param {string} str - input string\n* @param {NonNegativeInteger} len - maximum number of elements allowed in the slice\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @returns {(Slice|Object)} Slice object or an error object\n*\n* @example\n* var s = seq2slice( '0:10:1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( '::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( ':0:-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns 0\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( '4::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 4\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( '::', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( ':end:', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( 'end-2::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 8\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( 'end/2::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 4\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( 'end:end/2:-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns 4\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( ':end/2:-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns 4\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( ':end/2:1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 5\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( ':end/3', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 3\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end/3::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 3\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( 'end/3::', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 3\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end/3::', 9, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 3\n*\n* v = s.stop;\n* // returns 9\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end/3::-1', 9, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 2\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( '5:5', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 5\n*\n* v = s.stop;\n* // returns 5\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( '5:5', 0, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 0\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end:', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 10\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*/\nfunction seq2slice( str, len, strict ) {\n\tvar parts;\n\tvar N;\n\tvar v;\n\n\tparts = trim( str ).split( RE_COLON_SEP );\n\tN = parts.length;\n\n\t// Disallow providing standalone components (e.g., '1', 'end', etc) and strings having too many components (e.g., '1:2:3:4')...\n\tif ( N < 2 || N > 3 ) {\n\t\treturn eInvalidSubsequence();\n\t}\n\n\t/* Increment */\n\n\t// Process the increment...\n\tif ( N === 3 ) {\n\t\tv = parts[ 2 ];\n\t\tif ( v.length === 0 ) { // empty increment\n\t\t\tparts[ 2 ] = 1; // default increment\n\t\t} else {\n\t\t\tif ( RE_INTEGER.test( v ) === false ) {\n\t\t\t\treturn eInvalidSubsequence();\n\t\t\t}\n\t\t\tv = parseInt( v, 10 );\n\t\t\tif ( v === 0 ) {\n\t\t\t\treturn eInvalidIncrement(); // increment cannot be zero\n\t\t\t}\n\t\t\tparts[ 2 ] = v;\n\t\t}\n\t} else {\n\t\tparts.push( 1 ); // default increment\n\t}\n\n\t/* Starting Index */\n\n\t// Process the starting index...\n\tv = parts[ 0 ];\n\n\t// Case: empty starting index\n\tif ( v.length === 0 ) {\n\t\t// If the increment is negative, we need to iterate from the last index...\n\t\tif ( parts[ 2 ] < 0 && len > 0 ) {\n\t\t\tparts[ 0 ] = len - 1;\n\t\t} else {\n\t\t\tparts[ 0 ] = 0; // default starting index (inclusive)\n\t\t}\n\t}\n\t// Case: use of the \"end\" keyword\n\telse if ( RE_END.test( v ) ) {\n\t\tv = resolveEnd( v, len, parts[ 2 ] < 0, strict );\n\t\tif ( v < 0 ) {\n\t\t\tif ( v === -2 ) {\n\t\t\t\treturn eOutOfBounds();\n\t\t\t}\n\t\t\treturn eInvalidSubsequence();\n\t\t}\n\t\tif ( parts[ 2 ] < 0 && v >= len ) {\n\t\t\tv -= 1; // clamp to the last index\n\t\t}\n\t\tparts[ 0 ] = v;\n\t}\n\t// Case: integer character sequence\n\telse if ( RE_INTEGER.test( v ) ) {\n\t\tv = parseInt( v, 10 );\n\n\t\t// Check whether we need to resolve the starting index relative to the last index...\n\t\tif ( v < 0 ) {\n\t\t\tv = len + v;\n\n\t\t\t// If the computed index exceeds the index bounds, clamp to the first index...\n\t\t\tif ( v < 0 ) {\n\t\t\t\tif ( strict ) {\n\t\t\t\t\treturn eOutOfBounds();\n\t\t\t\t}\n\t\t\t\tv = 0;\n\t\t\t}\n\t\t}\n\t\t// If the index exceeds the index bounds, clamp to the starting index...\n\t\telse if ( v >= len ) {\n\t\t\tif ( strict ) {\n\t\t\t\treturn eOutOfBounds();\n\t\t\t}\n\t\t\t// If the increment is negative, clamp to the last index (inclusive)...\n\t\t\tif ( parts[ 2 ] < 0 ) {\n\t\t\t\tv = len - 1;\n\t\t\t}\n\t\t\t// If the increment is positive, clamp to the \"index\" following the last index...\n\t\t\telse {\n\t\t\t\tv = len;\n\t\t\t}\n\t\t}\n\t\tparts[ 0 ] = v;\n\t}\n\t// Case: invalid/unsupported characters/operations\n\telse {\n\t\treturn eInvalidSubsequence();\n\t}\n\n\t/* Ending Index */\n\n\t// Processing the ending index...\n\tv = parts[ 1 ];\n\n\t// Case: empty ending index\n\tif ( v.length === 0 ) {\n\t\t// If the increment is negative, we need to iterate toward the first index...\n\t\tif ( parts[ 2 ] < 0 ) {\n\t\t\tparts[ 1 ] = null;\n\t\t} else {\n\t\t\tparts[ 1 ] = len; // default ending index (exclusive)\n\t\t}\n\t}\n\t// Case: use of the \"end\" keyword\n\telse if ( RE_END.test( v ) ) {\n\t\tv = resolveEnd( v, len, parts[ 2 ] < 0, strict );\n\t\tif ( v < 0 ) {\n\t\t\tif ( v === -2 ) {\n\t\t\t\treturn eOutOfBounds();\n\t\t\t}\n\t\t\treturn eInvalidSubsequence();\n\t\t}\n\t\tparts[ 1 ] = v;\n\t}\n\t// Case: integer character sequence\n\telse if ( RE_INTEGER.test( v ) ) {\n\t\tv = parseInt( v, 10 );\n\n\t\t// Check whether we need to resolve the starting index relative to the last index...\n\t\tif ( v < 0 ) {\n\t\t\tv = len + v;\n\n\t\t\t// Check whether the computed index exceeds the index bounds...\n\t\t\tif ( v < 0 ) {\n\t\t\t\t// If the increment is positive, clamp the ending index to the first index (exclusive)...\n\t\t\t\tif ( parts[ 2 ] > 0 ) {\n\t\t\t\t\tif ( strict ) {\n\t\t\t\t\t\treturn eOutOfBounds();\n\t\t\t\t\t}\n\t\t\t\t\tv = 0;\n\t\t\t\t} else {\n\t\t\t\t\t// If the increment is negative, the ending index should resolve to the first index (inclusive)...\n\t\t\t\t\tif ( strict && v < -1 ) {\n\t\t\t\t\t\treturn eOutOfBounds();\n\t\t\t\t\t}\n\t\t\t\t\tv = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// If the index exceeds the index bounds, clamp to the last \"index\" (exclusive)...\n\t\telse if ( v > len ) {\n\t\t\tif ( strict ) {\n\t\t\t\treturn eOutOfBounds();\n\t\t\t}\n\t\t\tv = len;\n\t\t}\n\t\tparts[ 1 ] = v;\n\t}\n\t// Case: invalid/unsupported characters/operations\n\telse {\n\t\treturn eInvalidSubsequence();\n\t}\n\n\t// Handle empty slice (note: this is at the end rather than at the beginning in order to ensure that `start` and `stop` are always validated)...\n\tif ( len === 0 ) {\n\t\treturn new Slice( 0, 0, parts[ 2 ] );\n\t}\n\n\treturn new Slice( parts[ 0 ], parts[ 1 ], parts[ 2 ] );\n}\n\n\n// EXPORTS //\n\nexport default seq2slice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for an invalid subsequence string.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_INVALID_SUBSEQUENCE'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for a subsequence string containing a zero increment.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_INVALID_INCREMENT'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for a subsequence string resolving to a slice which exceeds index bounds.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_OUT_OF_BOUNDS'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Matches a character sequence for a comma separator used to delineate subsequence strings.\n*\n* Regular expression: `\\s*,\\s*`\n*\n* -   `\\s*`\n*\n*     -   match zero or more whitespace characters\n*\n* -   `,`\n*\n*     -   match the comma character exactly\n*\n* -   `\\s*`\n*\n*     -   match zero or more whitespace characters\n*\n* ## Notes\n*\n* -   The regular expression allows for whitespace to surround the `,` character in multi-dimensional subsequence strings (e.g., '2:10 , 4:1 , ... , 1' vs '2:10,4:1,...,1').\n*\n* @private\n* @name RE_SUBSEQ_SEP\n* @type {RegExp}\n*\n* @example\n* var parts = ','.split( RE_SUBSEQ_SEP );\n* // returns [ '', '' ]\n*\n* parts = ' , '.split( RE_SUBSEQ_SEP );\n* // returns [ '', '' ]\n*/\nvar RE_SUBSEQ_SEP = /\\s*,\\s*/;\n\n\n// EXPORTS //\n\nexport default RE_SUBSEQ_SEP;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Matches a character sequence for an integer value.\n*\n* Regular expression: `/^[-+]?\\d+$/`\n*\n* -   `^`\n*\n*     -   start of input\n*\n* -   `[-+]?`\n*\n*     -   match a minus or plus sign (if present)\n*\n* -   `\\d+`\n*\n*     -   match one or more digits\n*\n* -   `$`\n*\n*     -   end of input\n*\n* @private\n* @name RE_INTEGER\n* @type {RegExp}\n*\n* @example\n* var bool = RE_INTEGER.test( '123' );\n* // returns true\n*\n* bool = RE_INTEGER.test( '12.3' );\n* // returns false\n*/\nvar RE_INTEGER = /^[-+]?[0-9]+$/;\n\n\n// EXPORTS //\n\nexport default RE_INTEGER;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/*\n* When adding modules to the namespace, ensure that they are added in alphabetical order according to module name.\n*/\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils/define-read-only-property';\n\n\n// MAIN //\n\n/**\n* Top-level namespace.\n*\n* @namespace ns\n*/\nvar ns = {};\n\n/**\n* @name args2multislice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/args2multislice}\n*/\nimport args2multislice from './../../base/args2multislice';\nsetReadOnly( ns, 'args2multislice', args2multislice );\n\n/**\n* @name int2slice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/int2slice}\n*/\nimport int2slice from './../../base/int2slice';\nsetReadOnly( ns, 'int2slice', int2slice );\n\n/**\n* @name sliceLength\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/length}\n*/\nimport sliceLength from './../../base/length';\nsetReadOnly( ns, 'sliceLength', sliceLength );\n\n/**\n* @name nonreducedDimensions\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/nonreduced-dimensions}\n*/\nimport nonreducedDimensions from './../../base/nonreduced-dimensions';\nsetReadOnly( ns, 'nonreducedDimensions', nonreducedDimensions );\n\n/**\n* @name normalizeMultiSlice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/normalize-multi-slice}\n*/\nimport normalizeMultiSlice from './../../base/normalize-multi-slice';\nsetReadOnly( ns, 'normalizeMultiSlice', normalizeMultiSlice );\n\n/**\n* @name normalizeSlice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/normalize-slice}\n*/\nimport normalizeSlice from './../../base/normalize-slice';\nsetReadOnly( ns, 'normalizeSlice', normalizeSlice );\n\n/**\n* @name reducedDimensions\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/reduced-dimensions}\n*/\nimport reducedDimensions from './../../base/reduced-dimensions';\nsetReadOnly( ns, 'reducedDimensions', reducedDimensions );\n\n/**\n* @name sargs2multislice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/sargs2multislice}\n*/\nimport sargs2multislice from './../../base/sargs2multislice';\nsetReadOnly( ns, 'sargs2multislice', sargs2multislice );\n\n/**\n* @name seq2multislice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/seq2multislice}\n*/\nimport seq2multislice from './../../base/seq2multislice';\nsetReadOnly( ns, 'seq2multislice', seq2multislice );\n\n/**\n* @name seq2slice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/seq2slice}\n*/\nimport seq2slice from './../../base/seq2slice';\nsetReadOnly( ns, 'seq2slice', seq2slice );\n\n/**\n* @name sliceShape\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/shape}\n*/\nimport sliceShape from './../../base/shape';\nsetReadOnly( ns, 'sliceShape', sliceShape );\n\n/**\n* @name slice2seq\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/slice2seq}\n*/\nimport slice2seq from './../../base/slice2seq';\nsetReadOnly( ns, 'slice2seq', slice2seq );\n\n/**\n* @name str2multislice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/str2multislice}\n*/\nimport str2multislice from './../../base/str2multislice';\nsetReadOnly( ns, 'str2multislice', str2multislice );\n\n/**\n* @name str2slice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/base/str2slice}\n*/\nimport str2slice from './../../base/str2slice';\nsetReadOnly( ns, 'str2slice', str2slice );\n\n\n// EXPORTS //\n\nexport default ns;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport { isPrimitive as isNonNegativeInteger } from '@stdlib/assert/is-nonnegative-integer';\nimport { isPrimitive as isString } from '@stdlib/assert/is-string';\nimport { isPrimitive as isBoolean } from '@stdlib/assert/is-boolean';\nimport base from './../../base/seq2slice';\nimport format from '@stdlib/string/format';\n\n\n// MAIN //\n\n/**\n* Converts a subsequence string to a Slice object.\n*\n* ## Notes\n*\n* -   A subsequence string has the following format:\n*\n*     ```text\n*     <start>:<stop>:<increment>\n*     ```\n*\n*     where\n*\n*     -   If an `increment` is not specified, the default increment is `1`. An increment of zero is **not** allowed.\n*     -   The `start` index is **inclusive**.\n*     -   The `stop` index is **exclusive**.\n*     -   Both `start` and `stop` indices are _optional_. If not provided, `start` and `stop` default to index extremes. Which extremes correspond to which index depends on whether the `increment` is positive or negative.\n*     -   Both `start` and `stop` can be negative; in which case, the corresponding index is resolved by subtracting the respective value from the provided length `len`.\n*     -   Both `start` and `stop` can use the `end` keyword (e.g., `end-2::2`, `end-3:`, etc), which supports basic subtraction and division.\n*     -   The `end` keyword resolves to the provided length `len`. Thus, `:-1` is equivalent to `:end-1`, `:-2` is equivalent to `:end-2`, and so on and so forth. The exception is when performing a division operation when the `increment` is less than zero; in which case, `end` is equal to `len-1` in order to preserve user expectations when `end/d` equals a whole number and slicing from right-to-left. The result from a division operation is **rounded down** to the nearest integer value.\n*\n* -   When `strict` is `false`, the resolved slice start is clamped to the slice index bounds (i.e., `[0, len)`).\n*\n* -   When `strict` is `false`, the resolved slice end is upper bound clamped to `len` (i.e., one greater than the last possible index).\n*\n* -   When the increment is negative, the resolved slice end value may be `null`, thus indicating that a non-empty slice should include the first index.\n*\n* -   The function ensures that results satisfy the convention that `:n` combined with `n:` is equivalent to `:` (i.e., selecting all elements).\n*\n* -   When `len` is zero, the function always returns a Slice object equivalent to `0:0:<increment>`.\n*\n* @param {string} str - input string\n* @param {NonNegativeInteger} len - maximum number of elements allowed in the slice\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @throws {TypeError} first argument must be a valid subsequence string\n* @throws {TypeError} second argument must be a nonnegative integer\n* @throws {TypeError} third argument must be a boolean\n* @throws {RangeError} a subsequence string must have a non-zero increment\n* @throws {RangeError} a subsequence string resolves to a slice which exceeds index bounds\n* @returns {Slice} Slice object\n*\n* @example\n* var s = seq2slice( '0:10:1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( '::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( ':0:-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns 0\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( '4::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 4\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( '::', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( ':end:', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( 'end-2::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 8\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( 'end/2::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 4\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( 'end:end/2:-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns 4\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( ':end/2:-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 9\n*\n* v = s.stop;\n* // returns 4\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( ':end/2:1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 5\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( ':end/3', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 3\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end/3::-1', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 3\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( 'end/3::', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 3\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end/3::', 9, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 3\n*\n* v = s.stop;\n* // returns 9\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end/3::-1', 9, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 2\n*\n* v = s.stop;\n* // returns null\n*\n* v = s.step;\n* // returns -1\n*\n* @example\n* var s = seq2slice( '5:5', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 5\n*\n* v = s.stop;\n* // returns 5\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( '5:5', 0, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 0\n*\n* v = s.stop;\n* // returns 0\n*\n* v = s.step;\n* // returns 1\n*\n* @example\n* var s = seq2slice( 'end:', 10, false );\n* // returns <Slice>\n*\n* var v = s.start;\n* // returns 10\n*\n* v = s.stop;\n* // returns 10\n*\n* v = s.step;\n* // returns 1\n*/\nfunction seq2slice( str, len, strict ) {\n\tvar code;\n\tvar s;\n\tif ( !isString( str ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a valid subsequence string. Value: `%s`.', str ) );\n\t}\n\tif ( !isNonNegativeInteger( len ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be a nonnegative integer. Value: `%s`.', len ) );\n\t}\n\tif ( !isBoolean( strict ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Third argument must be a boolean. Value: `%s`.', strict ) );\n\t}\n\ts = base( str, len, strict );\n\tcode = s.code;\n\tif ( code === void 0 ) {\n\t\treturn s;\n\t}\n\tif ( code === 'ERR_SLICE_INVALID_INCREMENT' ) {\n\t\tthrow new RangeError( format( 'invalid argument. A subsequence string must have a non-zero increment. Value: `%s`.', str ) );\n\t}\n\tif ( code === 'ERR_SLICE_OUT_OF_BOUNDS' ) {\n\t\tthrow new RangeError( format( 'invalid argument. The subsequence string resolves to a slice which exceeds index bounds. Value: `%s`.', str ) );\n\t}\n\t// code === 'ERR_SLICE_INVALID_SUBSEQUENCE'\n\tthrow new TypeError( format( 'invalid argument. First argument must be a valid subsequence string. Value: `%s`.', str ) );\n}\n\n\n// EXPORTS //\n\nexport default seq2slice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns a list of non-reduced dimensions in an un-normalized multi-slice.\n*\n* @param {MultiSlice} slice - input slice\n* @returns {NonNegativeIntegerArray} list of non-reduced dimensions\n*\n* @example\n* import MultiSlice from '@stdlib/slice/multi';\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = new MultiSlice( 1, null, 2, void 0, new Slice( 0, 10, 1 ) );\n* // returns <MultiSlice>\n*\n* var indices = nonreducedDimensions( s );\n* // returns [ 1, 3, 4 ]\n*/\nfunction nonreducedDimensions( slice ) {\n\tvar data;\n\tvar out;\n\tvar i;\n\n\tdata = slice.data;\n\tout = [];\n\tfor ( i = 0; i < data.length; i++ ) {\n\t\tif ( typeof data[ i ] !== 'number' ) {\n\t\t\tout.push( i );\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport default nonreducedDimensions;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns a list of reduced dimensions in an un-normalized multi-slice.\n*\n* @param {MultiSlice} slice - input slice\n* @returns {NonNegativeIntegerArray} list of reduced dimensions\n*\n* @example\n* import MultiSlice from '@stdlib/slice/multi';\n* import Slice from '@stdlib/slice/ctor';\n*\n* var s = new MultiSlice( 1, null, 2, void 0, new Slice( 0, 10, 1 ) );\n* // returns <MultiSlice>\n*\n* var indices = reducedDimensions( s );\n* // returns [ 0, 2 ]\n*/\nfunction reducedDimensions( slice ) {\n\tvar data;\n\tvar out;\n\tvar i;\n\n\tdata = slice.data;\n\tout = [];\n\tfor ( i = 0; i < data.length; i++ ) {\n\t\tif ( typeof data[ i ] === 'number' ) {\n\t\t\tout.push( i );\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport default reducedDimensions;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport replace from '@stdlib/string/base/replace';\nimport str2multislice from './../../../base/str2multislice';\n\n\n// MAIN //\n\n/**\n* Creates a MultiSlice object from a comma-separated list of string-serialized MultiSlice constructor arguments.\n*\n* @param {string} str - input string containing constructor arguments\n* @returns {(MultiSlice|null)} MultiSlice object (or null)\n*\n* @example\n* var s = sargs2multislice( ',Slice(0,10,1)' );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ null, <Slice> ]\n*\n* @example\n* var s = sargs2multislice( 'Slice(0,10,1),' );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ <Slice>, null ]\n*\n* @example\n* var s = sargs2multislice( 'Slice(0,10,1),,,Slice(0,10,1)' );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ <Slice>, null, null, <Slice> ]\n*\n* @example\n* var s = sargs2multislice( ',Slice(0,10,1),null,,Slice(2,9,2),null,' );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ null, <Slice>, null, null, <Slice>, null, null ]\n*/\nfunction sargs2multislice( str ) {\n\t// In order to support `x[ [...] ]` syntax, we need to touch up the serialized string due to how `undefined` is serialized...\n\tstr = replace( str, /^,/, 'null,' );        // leading comma (e.g., [ void 0, Slice(0,10,1) ] => ',Slice(0,10,1)')\n\tstr = replace( str, /,$/, ',null' );        // trailing comma (e.g., [ Slice(0,10,1), void 0 ] => 'Slice(0,10,1),')\n\tstr = replace( str, /,(?=,)/g, ',null' );   // between commas (e.g., [ Slice(0,10,1), void 0, void 0, Slice(0,10,1) ] => 'Slice(0,10,1),,,Slice(0,10,1)')\n\tstr = replace( str, /undefined/g, 'null' ); // account for the possibility that the input has been manually serialized\n\treturn str2multislice( 'MultiSlice(' + str + ')' );\n}\n\n\n// EXPORTS //\n\nexport default sargs2multislice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport trim from '@stdlib/string/base/trim';\nimport Slice from './../../../ctor';\nimport args2multislice from './../../../base/args2multislice';\nimport seq2slice from './../../../base/seq2slice';\nimport eInvalidEllipsis from './error_invalid_ellipsis.js';\nimport eInsufficientDimensions from './error_insufficient_dimensions.js';\nimport eTooManyDimensions from './error_too_many_dimensions.js';\nimport eOutOfBounds from './error_out_of_bounds.js';\nimport RE_SUBSEQ_SEP from './re_subseq_sep.js';\nimport RE_INTEGER from './re_integer.js';\n\n\n// MAIN //\n\n/**\n* Converts a multidimensional subsequence string to a MultiSlice object.\n*\n* ## Notes\n*\n* -   A multidimensional subsequence string is a comma-separated list of single-dimension indexing expressions (i.e., integers and/or subsequence strings). For example, the following\n*\n*     ```text\n*     2\n*     :\n*     2:\n*     :10\n*     2:10\n*     ::-1\n*     10:2:-1\n*     :2:\n*     2:10:\n*     2::2\n*     :10:2\n*     :, :, :\n*     1, 2, 3\n*     0:10, 1:20:2, ::-1\n*     ...\n*     :, ..., 2\n*     ```\n*\n*     are all valid multidimensional subsequence strings.\n*\n* -   Providing a single nonnegative integer `i` as a single-dimension index indexes the same elements as the subsequence `i:i+1`.\n*\n* -   Providing a single negative integer `i` as a single-dimension index indexes the same elements as the subsequence `n+i:n+i+i`, where `n` is the dimension size.\n*\n* -   While integers index the same elements as equivalent subsequences, providing an integer as a single-dimension index indicates to reduce the number of dimensions by one (e.g., if the provided shape corresponds to an array having rank `2`, then `rank(A)-1 == rank(A['0,:'])`). In contrast, providing a subsequence indicates to retain a respective dimension (e.g., if the provided shape corresponds to an array having rank `2`, then `rank(A) == rank(A[':,:'])`).\n*\n* -   A multidimensional subsequence string can only contain **one** ellipsis ('...') operator. An ellipsis indicates to apply `:` to each dimension necessary to index all dimensions (e.g., if `A` has rank `4`, `A['1:, ..., 2:5'] == A['1:, :, :, 2:5']`).\n*\n* -   Except in the case of providing a single ellipsis, the number of single-dimension indexing expressions must equal the number of dimensions in the input shape.\n*\n* -   The function returns an error object if provided an invalid subsequence string.\n*\n* -   If `strict` is `true`, the function returns an error object if a single-dimension index expression which exceeds index bounds.\n*\n* @param {string} str - input string\n* @param {NonNegativeIntegerArray} shape - maximum allowed slice shape\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @returns {(MultiSlice|Object)} MultiSlice object or an error object\n*\n* @example\n* var s = seq2multislice( '0:10:2', [ 10 ], false );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ <Slice> ]\n*\n* var s0 = data[ 0 ];\n* // returns <Slice>\n*\n* var v = s0.start;\n* // returns 0\n*\n* v = s0.stop;\n* // returns 10\n*\n* v = s0.step;\n* // returns 2\n*\n* @example\n* var s = seq2multislice( 'end-3::-1', [ 10 ], false );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ <Slice> ]\n*\n* var s0 = data[ 0 ];\n* // returns <Slice>\n*\n* var v = s0.start;\n* // returns 7\n*\n* v = s0.stop;\n* // returns null\n*\n* v = s0.step;\n* // returns -1\n*\n* @example\n* var s = seq2multislice( '2,0:10:2,-4', [ 10, 10, 10 ], false );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ 2, <Slice>, -4 ]\n*\n* @example\n* var s = seq2multislice( '::-2,...,:', [ 10, 10, 10, 10, 10 ], false );\n* // returns <MultiSlice>\n*\n* var data = s.data;\n* // returns [ <Slice>, <Slice>, <Slice>, <Slice>, <Slice> ]\n*\n* var s1 = data[ 1 ];\n* // returns <Slice>\n*\n* var v = s1.start;\n* // returns 0\n*\n* v = s1.stop;\n* // returns 10\n*\n* v = s1.step;\n* // returns 1\n*/\nfunction seq2multislice( str, shape, strict ) {\n\tvar parts;\n\tvar args;\n\tvar FLG;\n\tvar len;\n\tvar N;\n\tvar M;\n\tvar s;\n\tvar i;\n\tvar j;\n\tvar k;\n\n\tN = shape.length;\n\n\tparts = trim( str ).split( RE_SUBSEQ_SEP );\n\tM = parts.length;\n\n\tFLG = false;\n\targs = [];\n\tj = 0; // dual pointer as `parts.length` may not equal `shape.length` due to the ellipsis operator\n\tfor ( i = 0; i < M; i++ ) {\n\t\ts = parts[ i ];\n\n\t\t// Case: ellipsis operator\n\t\tif ( s === '...' ) {\n\t\t\t// Only allow a single usage of the ellipsis operator...\n\t\t\tif ( FLG ) {\n\t\t\t\treturn eInvalidEllipsis();\n\t\t\t}\n\t\t\tFLG = true;\n\t\t\tfor ( k = 0; k < N-M+1; k++ ) {\n\t\t\t\targs.push( new Slice( 0, shape[ j ], 1 ) );\n\t\t\t\tj += 1;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tlen = shape[ j ];\n\n\t\t// Case: integer index\n\t\tif ( RE_INTEGER.test( s ) ) {\n\t\t\ts = parseInt( s, 10 );\n\t\t\tif ( strict ) {\n\t\t\t\tif ( s < 0 ) {\n\t\t\t\t\tif ( len + s < 0 ) {\n\t\t\t\t\t\treturn eOutOfBounds();\n\t\t\t\t\t}\n\t\t\t\t} else if ( s >= len ) {\n\t\t\t\t\treturn eOutOfBounds();\n\t\t\t\t}\n\t\t\t}\n\t\t\tj += 1;\n\t\t}\n\t\t// Case: subsequence\n\t\telse {\n\t\t\ts = seq2slice( s, len, strict );\n\t\t\tif ( s.code ) {\n\t\t\t\treturn s;\n\t\t\t}\n\t\t\tj += 1;\n\t\t}\n\t\targs.push( s );\n\t}\n\t// Verify that we've been provided the right number of slice dimensions...\n\tif ( args.length !== N ) {\n\t\tif ( args.length < N ) {\n\t\t\treturn eInsufficientDimensions();\n\t\t}\n\t\treturn eTooManyDimensions();\n\t}\n\treturn args2multislice( args );\n}\n\n\n// EXPORTS //\n\nexport default seq2multislice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for a subsequence string resolving to a slice which exceeds index bounds.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_OUT_OF_BOUNDS'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for a subsequence string containing an invalid use of ellipsis.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_INVALID_ELLIPSIS'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for a subsequence string with insufficient dimensions.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_INSUFFICIENT_DIMENSIONS'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an error object for a subsequence string with too many dimensions.\n*\n* @private\n* @returns {Object} error object\n*/\nfunction error() {\n\treturn {\n\t\t'code': 'ERR_SLICE_TOO_MANY_DIMENSIONS'\n\t};\n}\n\n\n// EXPORTS //\n\nexport default error;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport sliceLength from './../../../base/length';\n\n\n// MAIN //\n\n/**\n* Returns the shape of a normalized multi-slice.\n*\n* @param {MultiSlice} slice - normalized MultiSlice object\n* @returns {NonNegativeIntegerArray} slice shape\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import MultiSlice from '@stdlib/slice/multi';\n* import normalizeMultiSlice from '@stdlib/slice/base/normalize-multi-slice';\n*\n* var s = new MultiSlice( new Slice( 2, null, 1 ), null, 10 );\n*\n* var v = sliceShape( normalizeMultiSlice( s, [ 10, 5, 20 ], false ) );\n* // returns [ 8, 5, 1 ]\n*\n* v = sliceShape( normalizeMultiSlice( s, [ 11, 3, 12 ], false ) );\n* // returns [ 9, 3, 1 ]\n*\n* v = sliceShape( normalizeMultiSlice( s, [ 5, 10, 15 ], false ) );\n* // returns [ 3, 10, 1 ]\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import MultiSlice from '@stdlib/slice/multi';\n* import normalizeMultiSlice from '@stdlib/slice/base/normalize-multi-slice';\n*\n* var s = new MultiSlice( null, new Slice( -1, 3, -2 ) );\n*\n* var v = sliceShape( normalizeMultiSlice( s, [ 10, 5 ], false ) );\n* // returns [ 10, 1 ]\n*\n* v = sliceShape( normalizeMultiSlice( s, [ 11, 10 ], false ) );\n* // returns [ 11, 3 ]\n*\n* v = sliceShape( normalizeMultiSlice( s, [ 5, 15 ], false ) );\n* // returns [ 5, 6 ]\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n* import MultiSlice from '@stdlib/slice/multi';\n* import normalizeMultiSlice from '@stdlib/slice/base/normalize-multi-slice';\n*\n* var s = new MultiSlice( 1, new Slice( 0, 0, 1 ) );\n*\n* var v = sliceShape( normalizeMultiSlice( s, [ 10, 5 ], false ) );\n* // returns [ 1, 0 ]\n*\n* v = sliceShape( normalizeMultiSlice( s, [ 11, 10 ], false ) );\n* // returns [ 1, 0 ]\n*\n* v = sliceShape( normalizeMultiSlice( s, [ 5, 15 ], false ) );\n* // returns [ 1, 0 ]\n*/\nfunction sliceShape( slice ) {\n\tvar data;\n\tvar out;\n\tvar i;\n\n\tdata = slice.data;\n\tout = [];\n\tfor ( i = 0; i < data.length; i++ ) {\n\t\tout.push( sliceLength( data[ i ] ) );\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport default sliceShape;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Converts a Slice object to a subsequence string.\n*\n* @param {Slice} slice - slice object\n* @returns {string} subsequence string\n*\n* @example\n* import Slice from '@stdlib/slice/ctor';\n*\n* var str = slice2seq( new Slice( null, null, null ) );\n* // returns ':'\n*\n* str = slice2seq( new Slice() );\n* // returns ':'\n*\n* str = slice2seq( new Slice( null ) );\n* // returns ':'\n*\n* str = slice2seq( new Slice( 10 ) );\n* // returns ':10'\n*\n* str = slice2seq( new Slice( -1 ) );\n* // returns ':-1'\n*\n* str = slice2seq( new Slice( 2, 10 ) );\n* // returns '2:10'\n*\n* str = slice2seq( new Slice( -2, 10 ) );\n* // returns '-2:10'\n*\n* str = slice2seq( new Slice( -2, -10 ) );\n* // returns '-2:-10'\n*\n* str = slice2seq( new Slice( 2, null ) );\n* // returns '2:'\n*\n* str = slice2seq( new Slice( null, 10 ) );\n* // returns ':10'\n*\n* str = slice2seq( new Slice( 2, 10, 2 ) );\n* // returns '2:10:2'\n*\n* str = slice2seq( new Slice( -1, null, -1 ) );\n* // returns '-1::-1'\n*\n* str = slice2seq( new Slice( -1, -5, -1 ) );\n* // returns '-1:-5:-1'\n*\n* str = slice2seq( new Slice( -1, 10, -1 ) );\n* // returns '-1:10:-1'\n*\n* str = slice2seq( new Slice( 1, -1, 2 ) );\n* // returns '1:-1:2'\n*\n* str = slice2seq( new Slice( null, null, -1 ) );\n* // returns '::-1'\n*/\nfunction slice2seq( slice ) {\n\tvar out;\n\tvar i;\n\tvar j;\n\tvar k;\n\n\ti = slice.start;\n\tj = slice.stop;\n\tk = slice.step;\n\n\tif ( i === null ) {\n\t\tout = '';\n\t} else {\n\t\tout = String( i );\n\t}\n\tif ( j === null ) {\n\t\tif ( k === null ) {\n\t\t\treturn out + ':';    // e.g., ':', '2:', '-1:'\n\t\t}\n\t\tif ( out === '' ) {\n\t\t\treturn '::' + k;     // e.g., '::2', '::-1'\n\t\t}\n\t\treturn out + '::' + k;   // e.g., '1::2', '10::-1'\n\t}\n\tout += ':' + j;\n\tif ( k === null ) {\n\t\treturn out;              // e.g., ':10', ':-1'\n\t}\n\treturn out + ':' + k;        // e.g., ':10:2', ':-1:-1', '1:10:2', '10:2:-1', '-1:-5:-1'\n}\n\n\n// EXPORTS //\n\nexport default slice2seq;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/*\n* When adding modules to the namespace, ensure that they are added in alphabetical order according to module name.\n*/\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils/define-read-only-property';\n\n\n// MAIN //\n\n/**\n* Top-level namespace.\n*\n* @namespace ns\n*/\nvar ns = {};\n\n/**\n* @name base\n* @memberof ns\n* @readonly\n* @type {Namespace}\n* @see {@link module:@stdlib/slice/base}\n*/\nimport base from './../base';\nsetReadOnly( ns, 'base', base );\n\n/**\n* @name Slice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/ctor}\n*/\nimport Slice from './../ctor';\nsetReadOnly( ns, 'Slice', Slice );\n\n/**\n* @name MultiSlice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/multi}\n*/\nimport MultiSlice from './../multi';\nsetReadOnly( ns, 'MultiSlice', MultiSlice );\n\n/**\n* @name seq2slice\n* @memberof ns\n* @readonly\n* @type {Function}\n* @see {@link module:@stdlib/slice/seq2slice}\n*/\nimport seq2slice from './../seq2slice';\nsetReadOnly( ns, 'seq2slice', seq2slice );\n\n\n// EXPORTS //\n\nexport default ns;\n"],"names":["isValid","value","isInteger","isNull","isUndefined","isSlice","MultiSlice","nargs","proxy","args","v","i","arguments","length","this","push","Object","create","prototype","apply","_data","TypeError","format","String","args2multislice","Slice","start","stop","step","RangeError","_start","_stop","_step","int2slice","max","strict","code","sliceLength","slice","inc","x1","x2","ceil","normalizeSlice","len","normalize","setReadOnly","setReadOnlyAccessor","data","out","join","type","toJSON","RE_SEP","RE_INTEGER","str2slice","str","arg","n","substring","trim","split","test","parseInt","str2multislice","RE_END_MINUS","RE_END_DIVIDE","resolveEnd","decrement","tmp","match","parseFloat","floor","RE_COLON_SEP","RE_END","seq2slice","parts","N","RE_SUBSEQ_SEP","ns","s","isString","isNonNegativeInteger","isBoolean","base","shape","replace","FLG","M","j","k"],"mappings":"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"}